# ğŸ¨ Printer Detection Implementation - Visual Reference

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      REACT FRONTEND                             â”‚
â”‚                   (PrinterSettingsPage.tsx)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Printer List Table                                       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ #  â”‚ Name         â”‚ Device       â”‚ Status  â”‚ Actions   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ 1  â”‚ Front Desk   â”‚ \\PC\TP-80   â”‚ âœ… Readyâ”‚ â‹® Test âœï¸â”‚   â”‚
â”‚  â”‚ 2  â”‚ Kitchen      â”‚ \\PC\TP-58   â”‚ âŒ Offlineâ”‚ â‹® Test ğŸ”´â”‚  â”‚
â”‚  â”‚ 3  â”‚ Back Office  â”‚ \\SRV\LAB    â”‚ â³ Checkingâ”‚ â‹® Test  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚                    contextBridge.ipc                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ IPC Channels
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ELECTRON MAIN PROCESS (main.js)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  IPC Handlers:                                           â”‚  â”‚
â”‚  â”‚  â€¢ getPrinterStatus(deviceName)                         â”‚  â”‚
â”‚  â”‚  â€¢ testPrinter(printerConfig)                           â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Logic:                                                 â”‚  â”‚
â”‚  â”‚  1. Query system printers                               â”‚  â”‚
â”‚  â”‚  2. Validate device name                                â”‚  â”‚
â”‚  â”‚  3. Get printer status                                  â”‚  â”‚
â”‚  â”‚  4. Create test page                                    â”‚  â”‚
â”‚  â”‚  5. Send to printer                                     â”‚  â”‚
â”‚  â”‚  6. Return result to React                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚              webContents.getPrinters()                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          WINDOWS PRINTER SYSTEM / OS API                        â”‚
â”‚  â€¢ Installed Printers Registry                                 â”‚
â”‚  â€¢ Printer Status & Drivers                                    â”‚
â”‚  â€¢ Print Queue Management                                      â”‚
â”‚  â€¢ Device Communication                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  INITIAL STATE - Printer List with No Status                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Printer Name        â”‚ Device          â”‚ Status â”‚ Actions       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Front Desk Printer  â”‚ \\PC\TP-80      â”‚ ?      â”‚ [Test] [âœï¸]   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    User Clicks [Test]
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TESTING STATE - Button Shows Spinner                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Printer Name        â”‚ Device          â”‚ Status â”‚ Actions       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Front Desk Printer  â”‚ \\PC\TP-80      â”‚ â³     â”‚ [â³...] [âœï¸]  â”‚
â”‚                                                                  â”‚
â”‚  System Action: Checking printer availability...               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                  Printer found & responding
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SUCCESS STATE - Green Status & Confirmation                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Printer Name        â”‚ Device          â”‚ Status â”‚ Actions       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Front Desk Printer  â”‚ \\PC\TP-80      â”‚ âœ…     â”‚ [Test] [âœï¸]   â”‚
â”‚                                                                  â”‚
â”‚  Toast: "âœ… Printer is ready! Test page sent successfully"     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Alternative: Error Scenario

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER CLICKING [Test] - Printer Not Found                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Printer Name        â”‚ Device          â”‚ Status â”‚ Actions       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Back Office         â”‚ \\PC\TP-INVALID â”‚ âŒ     â”‚ [Test] [âœï¸]   â”‚
â”‚                                                                  â”‚
â”‚  Toast Message:                                                  â”‚
â”‚  "âŒ Printer Not Found                                           â”‚
â”‚   The device '\\PC\TP-INVALID' is not installed on this system" â”‚
â”‚   Fix: Check device name and ensure printer is connected"       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Test Print Flow Diagram

```
          USER CLICKS [Test Printer]
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Create Hidden Window â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Generate Test Page   â”‚
         â”‚ (HTML with logo)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Build Print Options  â”‚
         â”‚ (from printer config)â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Trigger Print Job    â”‚
         â”‚ (via Electron API)   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                 â”‚
           â–¼                 â–¼
      âœ… SUCCESS         âŒ FAILURE
           â”‚                 â”‚
    Test page printed    Not connected
    Printer working      Offline/Error
    Return success       Return error
           â”‚                 â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
          Update UI with Status
                    â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚            â”‚            â”‚
    Show âœ…      Show âŒ      Show â³
    Green      Red Badge   Spinner
    Badge      & Error
```

---

## Button State Transitions

```
Normal State            Hover State              Testing State
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Test] ğŸ§ª  â”‚  â†’   â”‚  [Test] ğŸ§ª   â”‚   â†’   â”‚  [â³] Testing â”‚
â”‚   Blue       â”‚       â”‚  Dark Blue   â”‚        â”‚   Disabled   â”‚
â”‚   Clickable  â”‚       â”‚  Cursor:ptr  â”‚        â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                 â”‚                 â”‚
                                    â–¼                 â–¼                 â–¼
                            Success State      Failed State      Timeout State
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  [âœ… Ready]  â”‚  â”‚ [âŒ Offline] â”‚  â”‚ [âš ï¸ Timeout] â”‚
                            â”‚  Green Badge â”‚  â”‚  Red Badge   â”‚  â”‚ Orange Badge â”‚
                            â”‚  Clickable   â”‚  â”‚  Clickable   â”‚  â”‚  Clickable   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Printer Status Badge States

```
âœ… READY
â”œâ”€ Color: Green (#10B981)
â”œâ”€ Text: "Ready to print"
â”œâ”€ Icon: Check mark
â””â”€ Meaning: Printer is online and operational

â³ CHECKING
â”œâ”€ Color: Blue (#3B82F6)
â”œâ”€ Text: "Testing..."
â”œâ”€ Icon: Spinner
â””â”€ Meaning: Currently validating printer

âŒ OFFLINE
â”œâ”€ Color: Red (#EF4444)
â”œâ”€ Text: "Offline"
â”œâ”€ Icon: X mark
â””â”€ Meaning: Printer not responding

âš ï¸ ERROR
â”œâ”€ Color: Orange (#F59E0B)
â”œâ”€ Text: "Error"
â”œâ”€ Icon: Exclamation
â””â”€ Meaning: Something went wrong

â“ UNKNOWN
â”œâ”€ Color: Gray (#6B7280)
â”œâ”€ Text: "Not tested"
â”œâ”€ Icon: Question
â””â”€ Meaning: Never tested or invalid device name
```

---

## Data Flow for Test Printer

```
React Component                 IPC Renderer              Electron Main
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PrinterSettingsPage â”‚       â”‚   Window    â”‚        â”‚      main.js     â”‚
â”‚                      â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚  Click [Test]        â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚         â”‚            â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚         â–¼            â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚  testPrinter()       â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚  mutation.mutate()   â”‚â”€â”€â”€â”€â†’  â”‚ ipcRenderer â”‚â”€â”€â”€â”€â”€â”€â†’ â”‚ getPrinterStatus â”‚
â”‚         â”‚            â”‚       â”‚ .invoke()   â”‚        â”‚ testPrinter()    â”‚
â”‚         â”‚            â”‚       â”‚             â”‚        â”‚      â”‚           â”‚
â”‚  Show â³ Loading      â”‚       â”‚             â”‚        â”‚      â–¼           â”‚
â”‚         â”‚            â”‚       â”‚             â”‚        â”‚ Query system     â”‚
â”‚         â”‚            â”‚       â”‚             â”‚        â”‚ Test print       â”‚
â”‚         â”‚            â”‚       â”‚             â”‚        â”‚      â”‚           â”‚
â”‚         â”‚            â”‚â—„â”€â”€â”€â”€â”€â”€â”‚   ipcRenderer.send()  â”‚      â–¼           â”‚
â”‚         â–¼            â”‚       â”‚   print-result        â”‚ Return result    â”‚
â”‚  onSuccess/          â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚  onError callback    â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚         â”‚            â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚         â–¼            â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚  Update UI Badge     â”‚       â”‚             â”‚        â”‚                  â”‚
â”‚  Show Toast          â”‚       â”‚             â”‚        â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Table with Test Button Integration

```
Before Implementation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Printer Name  â”‚ Device Name  â”‚ Status â”‚ Actions    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Front Desk    â”‚ \\PC\TP-80   â”‚   â€”    â”‚ âœï¸ ğŸ—‘ï¸      â”‚
â”‚ Kitchen       â”‚ \\PC\TP-58   â”‚   â€”    â”‚ âœï¸ ğŸ—‘ï¸      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After Implementation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Printer Name  â”‚ Device Name  â”‚ Status â”‚ Actions            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Front Desk    â”‚ \\PC\TP-80   â”‚ âœ…     â”‚ ğŸ§ª âœï¸ ğŸ—‘ï¸            â”‚
â”‚ Kitchen       â”‚ \\PC\TP-58   â”‚ âŒ     â”‚ ğŸ§ª âœï¸ ğŸ—‘ï¸ (âœï¸ disabled)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
ğŸ§ª = Test Printer Button (NEW)
âœï¸ = Edit Button
ğŸ—‘ï¸ = Delete Button
```

---

## Code Structure Overview

```
frontend/
â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ ipcMain.handle('getPrinterStatus', ...)       [NEW]
â”‚   â”œâ”€â”€ ipcMain.handle('testPrinter', ...)             [NEW]
â”‚   â”œâ”€â”€ getPageSize() [EXISTING]
â”‚   â”œâ”€â”€ buildPrintOptions() [EXISTING]
â”‚   â””â”€â”€ ipcMain.handle('printComponent', ...) [EXISTING]
â”‚
â”œâ”€â”€ preload.js
â”‚   â”œâ”€â”€ electronAPI.getPrinterStatus()                 [NEW]
â”‚   â”œâ”€â”€ electronAPI.testPrinter()                      [NEW]
â”‚   â””â”€â”€ electronAPI.printComponent() [EXISTING]
â”‚
â””â”€â”€ src/
    â””â”€â”€ views/admin/settings/
        â””â”€â”€ PrinterSettingsPage.tsx
            â”œâ”€â”€ testPrinterMutation [NEW]
            â”œâ”€â”€ [Test Printer] Button [NEW]
            â”œâ”€â”€ Status Badge Component [NEW]
            â””â”€â”€ Error Handling [NEW]
```

---

## Implementation Timeline Visual

```
Hour 1:
â”œâ”€ 0:00-0:20  Write IPC handlers in main.js
â”‚   â””â”€ getPrinterStatus() function
â”‚   â””â”€ testPrinter() function
â”‚
â”œâ”€ 0:20-0:30  Update preload.js bridge
â”‚   â””â”€ Expose IPC methods to React
â”‚
â””â”€ 0:30-1:00  Add Test button to UI
    â””â”€ Button structure
    â””â”€ Click handler
    â””â”€ Loading state

Hour 1.5:
â”œâ”€ 1:00-1:20  Add status display
â”‚   â””â”€ Status badges
â”‚   â””â”€ Error messages
â”‚
â”œâ”€ 1:20-1:30  Testing
â”‚   â””â”€ Manual testing with real printers
â”‚
â””â”€ 1:30       âœ… COMPLETE
```

---

## Risk Mitigation Map

```
RISK                     MITIGATION                      FALLBACK
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Printer offline        â””â”€ Show clear offline message  â””â”€ Retry  â”‚
â”‚ Invalid device name    â””â”€ Validate device exists      â””â”€ Edit   â”‚
â”‚ Test print fails       â””â”€ Show error details          â””â”€ Manual â”‚
â”‚ Timeout on test        â””â”€ 30-second timeout limit     â””â”€ Skip   â”‚
â”‚ User in browser        â””â”€ Check electronAPI exists    â””â”€ Disableâ”‚
â”‚ OS differences         â””â”€ Abstract OS-specific code   â””â”€ Fallbackâ”‚
â”‚ Permission denied      â””â”€ Check system permissions    â””â”€ Info   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Visual Reference Complete!** ğŸ¨

Use these diagrams to understand the flow before implementation.
